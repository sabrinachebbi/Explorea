{% extends 'base.html.twig' %}


{% block title %}Accommodations{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('styles/cardAccomodation.css') }}">
    <link rel="stylesheet" href="{{ asset('styles/pagination.css') }}">
    <link rel="stylesheet" href="{{ asset('styles/notif.css') }}">
    <link rel="stylesheet" href="{{ asset('styles/Filter.css') }}">
{% endblock %}
{% block body %}
    {# Flash messages #}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success flash-message">
            <span>{{ message }}</span>
            <span class="close" onclick="this.parentElement.style.display='none';">&times;</span>
        </div>
    {% endfor %}
    {% for message in app.flashes('warning') %}
        <div class="alert alert-warning flash-message">
            <span>{{ message }}</span>
            <span class="close" onclick="this.parentElement.style.display='none';">&times;</span>
        </div>
    {% endfor %}

    {# Bouton pour ouvrir la modale de filtre #}
    <div class="filter-toggle" onclick="toggleFilterModal()">
        <img src="{{ asset('images/filter.webp') }}" alt="Filtrer" class="filter-icon">
        <span>Filtrage</span>
    </div>

    {# Inclusion de la modale de filtrage #}
    {% include '_partials/_Filter_Accommodation.html.twig' %}

    {# Conteneur pour les cartes d'annonces #}
    <div class="accommodation-container">
            <div class="card-container">
                {% if accommodations is not empty %}
                    {% for accommodation in accommodations %}
                        {% include '_partials/cardAccomodation.html.twig' %}
                    {% endfor %}
                {% else %}
                    <p>Aucun résultat trouvé.</p>
                {% endif %}
            </div>
            <div class="pagination-container">
                {{ knp_pagination_render(accommodations) }}
            </div>
        </div>

{% endblock %}

{% block javascripts %}
<script src="{{ asset('js/Filter.js') }}"></script>
    <script src="{{ asset('js/carousel.js') }}"></script>
{% endblock %}
